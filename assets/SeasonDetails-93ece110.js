import{q as m,r as t,C as g,A as f,j as e}from"./index-2e0ce3a0.js";import{d as h}from"./dayjs.min-6e65a6ba.js";function v({setNavIndx:x,setLoading:a}){const{no:i,id:d}=m(),{header:n}=t.useContext(g),[l,o]=t.useState({episodes:[]}),r=t.useRef();return window.onscroll(()=>{const{scrollTop:s,scrollHeight:c}=r.current;s===c&&console.log("Reached bottom")}),t.useEffect(()=>{a(!0),x(1),f.get(`https://api.themoviedb.org/3/tv/${d}/season/${i}?language=en-US`,{headers:n}).then(s=>{o(s.data),a(!1)})},[!1]),e.jsxs("div",{className:"text-white mt-24",children:[e.jsxs("div",{className:"flex flex-col flex-wrap lg:px-12 md:px-12 px-4",children:[e.jsxs("div",{className:"flex gap-10 lg:flex-row flex-col",children:[e.jsx("img",{loading:"lazy",src:l.poster_path&&`https://image.tmdb.org/t/p/w300${l.poster_path}`,alt:"",className:"rounded-md max-w-xs"}),e.jsxs("div",{className:"flex flex-col gap-4 lg:self-end flex-wrap md:col-span-9 col-span-6",children:[e.jsx("div",{className:"lg:text-6xl text-5xl font-semibold",children:l.name}),e.jsx("div",{className:"lg:text-3xl text-2xl text-gray-300 font-normal",children:`Total episodes: ${l.episodes.length}`}),e.jsx("div",{className:"lg:text-xl text-lg text-gray-400 font-light",children:h(l.air_date).format("DD/MM/YYYY")}),e.jsx("div",{className:"lg:text-2xl text-xl text-gray-400 font-light",children:`${l.overview}`})]})]}),e.jsx("div",{className:"mt-12 mb-8 text-5xl font-semibold text-sky-600",children:"Episodes"})]}),e.jsx("div",{className:"bg-neutral-800 w-full py-4 px-4 rounded-lg",children:e.jsx("div",{className:"flex flex-col gap-2 p-1",ref:r,children:l.episodes.map(s=>e.jsxs("div",{className:"grid lg:grid-cols-4 grid-cols-2 items-center rounded-md gap-4 py-4 px-2 flex-wrap border w-full bg-neutral-900 border-gray-700",children:[e.jsx("img",{loading:"lazy",className:"rounded-md",src:s.still_path&&`https://image.tmdb.org/t/p/w500${s.still_path}`}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"lg:text-lg text-normal text-gray-300",children:["Episode: ",s.episode_number]}),e.jsx("div",{className:"lg:text-2xl text-lg font-semibold",children:s.name}),e.jsxs("div",{className:"lg:text-lg text-normal font-light text-gray-400",children:[s.runtime," min"]})]}),e.jsxs("div",{className:"pr-4 text-lg lg:flex hidden col-span-2 justify-between gap-10",children:[e.jsx("div",{className:"max-w-[55ch] text-justify",children:s.overview}),e.jsx("div",{children:Math.round(s.vote_average*10)/10})]})]},s.id))})})]})}export{v as default};
