import{B as m,r as t,A as g,j as e}from"./index-bcf17028.js";import{d as h}from"./dayjs.min-563aec03.js";function j({setNavIndx:x,setLoading:a}){const{no:d,id:o}=m(),[s,n]=t.useState({episodes:[]}),i=t.useRef();let c={accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjYWJkZGUxZmYxNTg5MjBhMzc5ZDNmZjhjNDk2YzVkNyIsInN1YiI6IjY0NmI2ZDhkYzM1MTRjMmIwYTMzNWMwOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.5HbEmD6dynpOHWFNSglBkGwyS7-Scl1pyUtLwXzBpnI"};return window.onscroll(()=>{const{scrollTop:l,scrollHeight:r}=i.current;console.log(" scrollTop, scrollHeight",l,r),l===r&&console.log("Reached bottom")}),t.useEffect(()=>{a(!0),x(1),g.get(`https://api.themoviedb.org/3/tv/${o}/season/${d}?language=en-US`,{headers:c}).then(l=>{n(l.data),a(!1)})},[!1]),e.jsxs("div",{className:"text-white mt-24",children:[e.jsxs("div",{className:"flex flex-col flex-wrap lg:px-12 md:px-12 px-4",children:[e.jsxs("div",{className:"flex gap-10 lg:flex-row flex-col",children:[e.jsx("img",{loading:"lazy",src:s.poster_path&&`https://image.tmdb.org/t/p/w300${s.poster_path}`,alt:"",className:"rounded-md max-w-xs"}),e.jsxs("div",{className:"flex flex-col gap-4 lg:self-end flex-wrap md:col-span-9 col-span-6",children:[e.jsx("div",{className:"lg:text-6xl text-5xl font-semibold",children:s.name}),e.jsx("div",{className:"lg:text-3xl text-2xl text-gray-300 font-normal",children:`Total episodes: ${s.episodes.length}`}),e.jsx("div",{className:"lg:text-xl text-lg text-gray-400 font-light",children:h(s.air_date).format("DD/MM/YYYY")}),e.jsx("div",{className:"lg:text-2xl text-xl text-gray-400 font-light",children:`${s.overview}`})]})]}),e.jsx("div",{className:"mt-12 mb-8 text-5xl font-semibold text-sky-600",children:"Episodes"})]}),e.jsx("div",{className:"bg-neutral-800 w-full py-4 px-4 rounded-lg",children:e.jsx("div",{className:"flex flex-col gap-2 p-1",ref:i,children:s.episodes.map(l=>e.jsxs("div",{className:"grid lg:grid-cols-4 grid-cols-2 items-center rounded-md gap-4 py-4 px-2 flex-wrap border w-full bg-neutral-900 border-gray-700",children:[e.jsx("img",{loading:"lazy",className:"rounded-md",src:l.still_path&&`https://image.tmdb.org/t/p/w500${l.still_path}`}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"lg:text-lg text-normal text-gray-300",children:["Episode: ",l.episode_number]}),e.jsx("div",{className:"lg:text-2xl text-lg font-semibold",children:l.name}),e.jsxs("div",{className:"lg:text-lg text-normal font-light text-gray-400",children:[l.runtime," min"]})]}),e.jsxs("div",{className:"pr-4 text-lg lg:flex hidden col-span-2 justify-between gap-10",children:[e.jsx("div",{className:"max-w-[55ch] text-justify",children:l.overview}),e.jsx("div",{children:Math.round(l.vote_average*10)/10})]})]},l.id))})})]})}export{j as default};
