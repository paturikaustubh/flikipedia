import{q as g,r as t,C as f,A as h,j as e}from"./index-d634e291.js";import{d as p}from"./dayjs.min-58fed2ef.js";function j({setNavIndx:x,setLoading:a}){const{no:i,id:d}=g(),{header:n,handleErrorAlert:o}=t.useContext(f),[s,c]=t.useState({episodes:[]}),r=t.useRef();return window.onscroll(()=>{const{scrollTop:l,scrollHeight:m}=r.current;l===m&&console.log("Reached bottom")}),t.useEffect(()=>{a(!0),x(1),h.get(`https://api.themoviedb.org/3/tv/${d}/season/${i}?language=en-US`,{headers:n}).then(l=>{c(l.data),a(!1)}).catch(l=>{a(!1),o(!0)})},[!1]),e.jsxs("div",{className:"text-white mt-24",children:[e.jsxs("div",{className:"flex flex-col flex-wrap lg:px-12 md:px-12 px-4",children:[e.jsxs("div",{className:"flex gap-10 lg:flex-row flex-col",children:[e.jsx("img",{loading:"lazy",src:s.poster_path&&`https://image.tmdb.org/t/p/w300${s.poster_path}`,alt:"",className:"rounded-md max-w-xs"}),e.jsxs("div",{className:"flex flex-col gap-4 lg:self-end flex-wrap md:col-span-9 col-span-6",children:[e.jsx("div",{className:"lg:text-6xl text-5xl font-semibold",children:s.name}),e.jsx("div",{className:"lg:text-3xl text-2xl text-gray-300 font-normal",children:`Total episodes: ${s.episodes.length}`}),e.jsx("div",{className:"lg:text-xl text-lg text-gray-400 font-light",children:p(s.air_date).format("DD/MM/YYYY")}),e.jsx("div",{className:"lg:text-2xl text-xl text-gray-400 font-light",children:`${s.overview}`})]})]}),e.jsx("div",{className:"mt-12 mb-8 text-5xl font-semibold text-sky-600",children:"Episodes"})]}),e.jsx("div",{className:"bg-neutral-800 w-full py-4 px-4 rounded-lg",children:e.jsx("div",{className:"flex flex-col gap-2 p-1",ref:r,children:s.episodes.map(l=>e.jsxs("div",{className:"grid lg:grid-cols-4 grid-cols-2 items-center rounded-md gap-4 py-4 px-2 flex-wrap border w-full bg-neutral-900 border-neutral-700",children:[e.jsx("img",{loading:"lazy",className:"rounded-md",src:l.still_path&&`https://image.tmdb.org/t/p/w500${l.still_path}`}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"lg:text-lg text-normal text-gray-300",children:["Episode: ",l.episode_number]}),e.jsx("div",{className:"lg:text-2xl text-lg font-semibold",children:l.name}),e.jsxs("div",{className:"lg:text-lg text-normal font-light text-gray-400",children:[l.runtime," min"]})]}),e.jsxs("div",{className:"pr-4 text-lg lg:flex hidden col-span-2 justify-between items-center gap-10",children:[e.jsx("div",{className:"max-w-[55ch] text-justify",children:l.overview}),e.jsx("div",{children:Math.round(l.vote_average*10)/10})]})]},l.id))})})]})}export{j as default};
