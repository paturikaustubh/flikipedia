import{r as e,f as q,h as B,m as I,j as J,_ as v,a2 as M,a3 as N,a4 as _}from"./index-2e0ce3a0.js";function Y({controlled:s,default:l,name:w,state:x="value"}){const{current:f}=e.useRef(s!==void 0),[d,E]=e.useState(l),m=f?s:d,g=e.useCallback(y=>{f||E(y)},[]);return[m,g]}const O=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function C(s){return`scale(${s}, ${s**2})`}const Q={entering:{opacity:1,transform:C(1)},entered:{opacity:1,transform:"none"}},j=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),D=e.forwardRef(function(l,w){const{addEndListener:x,appear:f=!0,children:d,easing:E,in:m,onEnter:g,onEntered:y,onEntering:G,onExit:A,onExited:H,onExiting:S,style:T,timeout:r="auto",TransitionComponent:b=M}=l,F=q(l,O),L=e.useRef(),R=e.useRef(),a=B(),h=e.useRef(null),P=I(h,d.ref,w),u=t=>i=>{if(t){const o=h.current;i===void 0?t(o):t(o,i)}},$=u(G),V=u((t,i)=>{N(t);const{duration:o,delay:p,easing:n}=_({style:T,timeout:r,easing:E},{mode:"enter"});let c;r==="auto"?(c=a.transitions.getAutoHeightDuration(t.clientHeight),R.current=c):c=o,t.style.transition=[a.transitions.create("opacity",{duration:c,delay:p}),a.transitions.create("transform",{duration:j?c:c*.666,delay:p,easing:n})].join(","),g&&g(t,i)}),W=u(y),k=u(S),z=u(t=>{const{duration:i,delay:o,easing:p}=_({style:T,timeout:r,easing:E},{mode:"exit"});let n;r==="auto"?(n=a.transitions.getAutoHeightDuration(t.clientHeight),R.current=n):n=i,t.style.transition=[a.transitions.create("opacity",{duration:n,delay:o}),a.transitions.create("transform",{duration:j?n:n*.666,delay:j?o:o||n*.333,easing:p})].join(","),t.style.opacity=0,t.style.transform=C(.75),A&&A(t)}),K=u(H),U=t=>{r==="auto"&&(L.current=setTimeout(t,R.current||0)),x&&x(h.current,t)};return e.useEffect(()=>()=>{clearTimeout(L.current)},[]),J.jsx(b,v({appear:f,in:m,nodeRef:h,onEnter:V,onEntered:W,onEntering:$,onExit:z,onExited:K,onExiting:k,addEndListener:U,timeout:r==="auto"?null:r},F,{children:(t,i)=>e.cloneElement(d,v({style:v({opacity:0,transform:C(.75),visibility:t==="exited"&&!m?"hidden":void 0},Q[t],T,d.props.style),ref:P},i))}))});D.muiSupportAuto=!0;const Z=D;export{Z as G,Y as u};
