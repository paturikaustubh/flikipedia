import{r as s,H as C,J as N,C as T,A as m,j as e,U as w,K as h,M as l}from"./index-4d753080.js";import{S as A,A as _}from"./SoloCard-78eb1389.js";function P({setLoading:r}){const g=s.useMemo(()=>C({palette:{mode:"dark"}}),[!1]),{state:n}=N(),{header:u,handleErrorAlert:p}=s.useContext(T),[i,v]=s.useState(1),[j,f]=s.useState(99),[t,y]=s.useState(n?n.type:"movie"),[o,d]=s.useState(n?n.category:"popular"),[S,x]=s.useState([]);return s.useEffect(()=>{r(!0),m.get(`https://api.themoviedb.org/3/${t}/${o}?language=en-US&page=${i}`,{headers:u}).then(({data:a})=>{x(a.results),f(a.total_pages),r(!1)}).catch(a=>{r(!1),p(!0)})},[o,t]),e.jsx(w,{theme:g,children:e.jsxs("div",{className:"pt-[6.5rem] text-white lg:px-8 md:px-4 px-2",children:[e.jsxs("p",{className:"lg:text-5xl text-3xl font-[500] text-orange-500",children:["Categories in ",t==="movie"?"Movies":"TV Shows"]}),e.jsxs("div",{className:"mt-8 grid grid-cols-12 gap-4",children:[e.jsxs(h,{className:"lg:col-span-3 col-span-6",select:!0,value:o,label:"Category",onChange:({target:a})=>d(a.value),children:[t==="tv"&&e.jsx(l,{value:"airing_today",children:"Airing Today"}),t==="tv"&&e.jsx(l,{value:"on_the_air",children:"On the Air"}),t==="movie"&&e.jsx(l,{value:"now_playing",children:"Now Playing"}),e.jsx(l,{value:"popular",children:"Popular"}),e.jsx(l,{value:"top_rated",children:"Top Rated"}),t==="movie"&&e.jsx(l,{value:"upcoming",children:"Upcoming"})]}),e.jsxs(h,{className:"lg:col-span-3 col-span-6",select:!0,value:t,label:"Type",onChange:({target:a})=>{o!=="popular"&&o!=="top_rated"&&d("popular"),y(a.value)},children:[e.jsx(l,{value:"movie",children:"Movies"}),e.jsx(l,{value:"tv",children:"TV Shows"})]})]}),e.jsx("p",{className:"mt-8 text-pedia-500 lg:text-4xl text-3xl",children:"Results"}),e.jsxs("div",{className:"my-4 genre-grid",children:[S.map((a,c)=>e.jsx(A,{element:a,type:t,indx:c},c)),i<j&&e.jsxs("div",{className:"rounded-md mx-auto w-full lg:text-2xl bg-neutral-950 h-full flex justify-center items-center flex-col gap-4 cursor-pointer",onClick:async()=>{r(!0),v(a=>a+1),m.get(`https://api.themoviedb.org/3/movie/${o}?language=en-US&page=${i+1}`,{headers:u}).then(({data:a})=>{x(c=>[...c,...a.results]),r(!1)}).catch(a=>{r(!1),p(!0)})},style:{aspectRatio:"3/4"},children:[e.jsx("div",{className:"bg-neutral-800 rounded-full p-4",children:e.jsx(_,{fontSize:"large"})}),"View more"]})]})]})})}export{P as default};
